# docs/ — индекс документов проекта

Цель папки: хранить короткие, поддерживаемые “источники правды” и процессные документы.
Правило: `PROJECT_CONTEXT.md` остаётся коротким (1–2 страницы). Детали — в специализированных доках.

---

## Ядро (читают все)
- `HOW_TO_USE_RU.md` — onboarding: mind map + памятка по docs/ + `.codex/skills/`.
- `PROJECT_CONTEXT.md` — Ground Truth (железо/тайминги/safe state).
- `GLOSSARY.md` — термины.
- `ARCHITECTURE.md` — границы модулей, fast/slow домены, тестируемость.
- `SAFETY.md` — safety-политика и proof obligations.
- `protocols/PROTOCOL_TK.md` — протокол обмена с ТК (CAN).
- `protocols/PCCOM4.02.md` — протокол PCcom4 (USB-UART) для настройки/логирования/отладки (в т.ч. обёртка CAN-кадров).
- `protocols/PCCOM4.02_PROJECT.md` — профиль проекта поверх PCcom4: узлы/операции/форматы, сервисные режимы.
- `TEST_PLAN.md` — минимальная регрессия и доказательства.
- `CONTEXT_SNAPSHOT.md` — короткий контекст для запросов к Codex.
- `CODING_STANDARD_RU.md` — язык комментариев и кодировка.

---

## Каталог документов
- `DOCS_INDEX.md`  
  Ссылки на “глубокие” документы (safety, DN, V&V, обзоры), чтобы быстро находить нужное и не таскать всё в контекст.

---

## Архитектура и безопасность
- `ARCHITECTURE.md`  
  Модульная структура ПО, границы ответственности, тестируемость (host/SIL/HIL/on-target), наблюдаемость.

- `design-notes/`  
  Design Notes: фиксируем итог обсуждения задачи (“что/как/почему + test plan/rollback”), чтобы не терять spec в чате.

- `SAFETY.md`  
  Политика безопасности: классы аварий, latch/recovery, watchdog, требования к аппаратному shutdown-path и критерии доказательства.

---

## Протоколы и интерфейсы
- `protocols/PROTOCOL_TK.md`  
  Единственный источник правды по обмену с ТК: кадры, таймауты, seq/CRC, коды ошибок, тестовые сценарии.

- `protocols/PCCOM4.02.md`  
  Спецификация протокола PCcom 4.02, используемого для обмена “плата ↔ ПК” по USB-UART (настройка параметров, осциллографирование/логирование, режим отладки с туннелированием CAN-кадров).

- `protocols/PCCOM4.02_PROJECT.md`  
  Профиль проекта поверх PCcom4: проектные узлы/операции, форматы данных и политики (service mode, self-test, осциллограф, …).

---

## Тестирование
- `TEST_PLAN.md`  
  Уровни тестирования и “минимальная регрессия”: unit/SIL/HIL/on-target/bench, fault-injection, критерии приёмки и доказательства.

---

## Работа с Codex/LLM
- `PROMPT_TEMPLATES.md`  
  Готовые шаблоны запросов (Spec→DN→Tests→Code, реализация патчем, red-team review, HIL план, протокол).

## Процесс разработки
- `HOW_TO_USE_RU.md`  
  Процесс (Gate→Spec→DN→Tests/Proof→Code→Review) и правила консистентности документов.

---

## Правила поддержки документов
- Любое изменение железа/таймингов/политики аварий должно обновлять `PROJECT_CONTEXT.md` (и при необходимости `SAFETY.md`).
- Термины не дублировать в других документах — добавлять в `GLOSSARY.md`.
- Для запросов к Codex используем `CONTEXT_SNAPSHOT.md`, а не полный контекст.
