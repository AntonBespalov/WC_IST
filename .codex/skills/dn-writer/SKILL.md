---
name: dn-writer
version: 0.1.0
description: >
  Оформление Design Note (DN) по итогам обсуждения: выжимка “что/как/почему”,
  влияние на интерфейсы/тайминги, риски и обязательные доказательства/rollback.
tags: ["design-note","dn","documentation","requirements","verification"]
project_context: "docs/PROJECT_CONTEXT.md"
glossary: "docs/GLOSSARY.md"
when_to_use:
  - "после обсуждения требований/архитектуры, чтобы зафиксировать решение в docs/"
  - "перед реализацией, чтобы зафиксировать критерии приёмки и план доказательств"
  - "когда нужно перевести 'spec из чата' в репозиторий"
outputs:
  - "DN draft в формате Markdown по шаблону docs/design-notes/DN-TEMPLATE.md"
---

# Skill: DN writer (Design Note)

## Миссия
Превращать обсуждение/Spec в короткий документ, пригодный для:
- ревью,
- реализации минимальным патчем,
- верификации (tests/proof),
- быстрого отката.

## Вход (что нужно на входе)
- Краткое описание изменения (что меняем и зачем).
- Контекст исполнения (task/ISR/DMA) и временной домен (если применимо).
- Границы изменений (какие модули/файлы в зоне).
- Инварианты/ограничения (что нельзя сломать).
- Как проверяем “готово” (tests/измерения/лог).

Если чего-то не хватает — задать 1–3 коротких вопроса и дождаться ответа.

## Процесс
1) Сжать проблему и цель до 3–7 строк.
2) Явно перечислить non-goals (что не делаем).
3) Сформулировать Decision и Rationale (включая отклонённые варианты, если были).
4) Зафиксировать влияние на интерфейсы/данные/тайминги.
5) Перечислить риски и edge cases.
6) Составить Test plan / Proof / Rollback.
7) В конце вывести DN целиком как готовый Markdown-файл.

## Контракт ответа
Выводить:
- имя файла (предлагаемое) вида `docs/design-notes/DN-XXX_<short_name>.md` (номер оставить `TBD` если нумерация ведётся вручную)
- полный текст DN в Markdown **строго по структуре** `docs/design-notes/DN-TEMPLATE.md`

## Нельзя
- Пропускать раздел `Test plan / Proof / Rollback`.
- Делать вид, что тайминги “очевидно успевают” без плана измерений (если домен RT).

