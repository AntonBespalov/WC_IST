---
name: complexity-analysis
version: 1.0.0
description: >
  –ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞ –∏ —Ä–∏—Å–∫–æ–≤ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (RT).
  –í—ã—è–≤–ª—è–µ—Ç —Ç—è–∂–µ–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ ISR, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—É—é –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –∏ —Ä–∏—Å–∫–∏ —Å—Ç–µ–∫–∞.
tags: ["performance","rtos","isr","complexity","stack","latency"]
project_context: "docs/PROJECT_CONTEXT.md"
when_to_use:
  - "–ø—Ä–∏ —Ä–µ–≤—å—é –∫–æ–¥–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π (ISR) –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á"
  - "–ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏/–∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –≤ control loop"
  - "–ø—Ä–∏ –ø–æ–¥–æ–∑—Ä–µ–Ω–∏—è—Ö –Ω–∞ stack overflow –∏–ª–∏ –ª–∞–≥–∏"
outputs:
  - "–¢–∞–±–ª–∏—Ü–∞ —Ä–∏—Å–∫–æ–≤ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"
---

# Skill: Complexity & Real-Time Analysis

## –ú–∏—Å—Å–∏—è
–û–±–µ—Å–ø–µ—á–∏—Ç—å –¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º. –í —Å–≤–∞—Ä–æ—á–Ω–æ–º –∏—Å—Ç–æ—á–Ω–∏–∫–µ –∫–æ–¥ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ.
–°–ª–æ–∂–Ω–æ—Å—Ç—å = –í—Ä–∞–≥ —Ç–∞–π–º–∏–Ω–≥–æ–≤.

## –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (Audit Checklist)

### 1. ISR (–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è) ‚Äî "Zero Fat"
–ï—Å–ª–∏ –∫–æ–¥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `IRQHandler` –∏–ª–∏ callback'–∞ —Å –≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º:
- [ ] **–ù–∏–∫–∞–∫–∏—Ö —Ü–∏–∫–ª–æ–≤** (–æ—Å–æ–±–µ–Ω–Ω–æ `while` –±–µ–∑ –∂–µ—Å—Ç–∫–æ–≥–æ —Ç–∞–π–º–∞—É—Ç–∞).
- [ ] **–ù–∏–∫–∞–∫–æ–≥–æ float/double** (–µ—Å–ª–∏ FPU –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ –∏–ª–∏ —ç—Ç–æ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ –Ω–∞ Cortex-M4).
- [ ] **–ù–∏–∫–∞–∫–∏—Ö –≤—ã–∑–æ–≤–æ–≤ —Ç—è–∂–µ–ª—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π** (printf, malloc, —Ç—è–∂–µ–ª—ã–π HAL_RCC_...).
- [ ] **–ù–∏–∫–∞–∫–∏—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** (mutex take, delay, semaphore wait).

### 2. RTOS Tasks ‚Äî "Stack & Blocking"
- [ ] **–†–µ–∫—É—Ä—Å–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω–∞.**
- [ ] **–ë–æ–ª—å—à–∏–µ –º–∞—Å—Å–∏–≤—ã –Ω–∞ —Å—Ç–µ–∫–µ** –∑–∞–ø—Ä–µ—â–µ–Ω—ã (Stack Overflow risk).
- [ ] **–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã** –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ü–∏–∫–ª–∞—Ö (1 –º—Å) –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Ç–∞–π–º–∞—É—Ç `0` –∏–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π.

### 3. –ê–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å (Control Loop)
- [ ] –ü—Ä–æ–≤–µ—Ä—å –¥–µ–ª–µ–Ω–∏–µ (div): –µ—Å—Ç—å –ª–∏ –∑–∞—â–∏—Ç–∞ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å?
- [ ] –ü—Ä–æ–≤–µ—Ä—å –Ω–∞—Å—ã—â–µ–Ω–∏–µ (saturation): –µ—Å—Ç—å –ª–∏ clamp/limiter –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö?
- [ ] –ü—Ä–æ–≤–µ—Ä—å –≤–µ—Ç–≤–ª–µ–Ω–∏–µ: –Ω–µ—Ç –ª–∏ "Deeply nested if-else" (> 3-4 —É—Ä–æ–≤–Ω–µ–π).

## –ö–æ–Ω—Ç—Ä–∞–∫—Ç –æ—Ç–≤–µ—Ç–∞
–í—ã–¥–∞–π –æ—Ç—á–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

**üîç COMPLEXITY REPORT**
| Scope (Func/Task) | Risk Level | Issue | Fix |
| :--- | :--- | :--- | :--- |
| `TIM1_UP_IRQHandler` | **CRITICAL** | –í—ã–∑–æ–≤ `float sinf()` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LUT (—Ç–∞–±–ª–∏—Ü—É) –∏–ª–∏ fixed-point |
| `Control_Task` | HIGH | `while(HAL_CAN_GetState...)` | –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç |
| `Packet_Parser` | MEDIUM | –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å `if` 6 —É—Ä–æ–≤–Ω–µ–π | –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (Guard clauses) |

## –ó–∞–ø—Ä–µ—â–µ–Ω–æ
- –û–¥–æ–±—Ä—è—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `HAL_Delay()` –∏–ª–∏ –ø—É—Å—Ç—ã—Ö —Ü–∏–∫–ª–æ–≤ `for(;;)` –≤–Ω—É—Ç—Ä–∏ ISR.
- –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—è–≤–Ω—ã–µ –≤—ã–∑–æ–≤—ã –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `memcpy` –±–æ–ª—å—à–∏—Ö –±–ª–æ–∫–æ–≤ –≤ ISR).